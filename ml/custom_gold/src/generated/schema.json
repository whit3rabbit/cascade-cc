{
  "title": "ToolInputSchemas",
  "description": "JSON Schema definitions for Claude CLI tool inputs",
  "type": "object",
  "definitions": {
    "AgentInput": {
      "type": "object",
      "properties": {
        "prompt": {
          "type": "string",
          "description": "The natural language instruction for the agent"
        },
        "context_files": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of file paths to provide as context to the agent"
        }
      },
      "required": [
        "prompt"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "BashInput": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "The command to execute"
        },
        "timeout": {
          "type": "number",
          "description": "Optional timeout in milliseconds (max 600000)"
        },
        "description": {
          "type": "string",
          "description": "Clear, concise description of what this command does in 5-10 words, in active voice. Examples:\nInput: ls\nOutput: List files in current directory\n\nInput: git status\nOutput: Show working tree status\n\nInput: npm install\nOutput: Install package dependencies\n\nInput: mkdir foo\nOutput: Create directory 'foo'"
        },
        "run_in_background": {
          "type": "boolean",
          "description": "Set to true to run this command in the background. Use TaskOutput to read the output later."
        },
        "dangerouslyDisableSandbox": {
          "type": "boolean",
          "description": "Set this to true to dangerously override sandbox mode and run commands without sandboxing."
        }
      },
      "required": [
        "command"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "FileEditInput": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string",
          "description": "The absolute path to the file to edit (must be absolute, not relative)"
        },
        "old_string": {
          "type": "string",
          "description": "The text to search for and replace"
        },
        "new_string": {
          "type": "string",
          "description": "The text to replace the old_string with"
        },
        "replace_all": {
          "type": "boolean",
          "default": false,
          "description": "Whether to replace all occurrences of old_string or just the first one"
        }
      },
      "required": [
        "path",
        "old_string",
        "new_string"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "FileReadInput": {
      "type": "object",
      "properties": {
        "file_path": {
          "type": "string",
          "description": "The absolute path to the file to read"
        },
        "offset": {
          "type": "number",
          "description": "The line number to start reading from. Only provide if the file is too large to read at once"
        },
        "limit": {
          "type": "number",
          "description": "The number of lines to read. Only provide if the file is too large to read at once."
        }
      },
      "required": [
        "file_path"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "FileWriteInput": {
      "type": "object",
      "properties": {
        "file_path": {
          "type": "string",
          "description": "The absolute path to the file to write (must be absolute, not relative)"
        },
        "content": {
          "type": "string",
          "description": "The content to write to the file"
        }
      },
      "required": [
        "file_path",
        "content"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "GrepInput": {
      "type": "object",
      "properties": {
        "pattern": {
          "type": "string",
          "description": "The regular expression pattern to search for in file contents"
        },
        "path": {
          "type": "string",
          "description": "File or directory to search in (rg PATH). Defaults to current working directory."
        },
        "glob": {
          "type": "string",
          "description": "Glob pattern to filter files (e.g. \"*.js\", \"*.{ts,tsx}\") - maps to rg --glob"
        },
        "output_mode": {
          "type": "string",
          "enum": [
            "content",
            "files_with_matches",
            "count"
          ],
          "description": "Output mode: \"content\" shows matching lines (supports -A/-B/-C context, -n line numbers, head_limit), \"files_with_matches\" shows file paths (supports head_limit), \"count\" shows match counts (supports head_limit). Defaults to \"files_with_matches\"."
        },
        "-B": {
          "type": "number",
          "description": "Number of lines to show before each match (rg -B). Requires output_mode: \"content\", ignored otherwise."
        },
        "-A": {
          "type": "number",
          "description": "Number of lines to show after each match (rg -A). Requires output_mode: \"content\", ignored otherwise."
        },
        "-C": {
          "type": "number",
          "description": "Number of lines to show before and after each match (rg -C). Requires output_mode: \"content\", ignored otherwise."
        },
        "-n": {
          "type": "boolean",
          "description": "Show line numbers in output (rg -n). Requires output_mode: \"content\", ignored otherwise. Defaults to true."
        },
        "-i": {
          "type": "boolean",
          "description": "Case insensitive search (rg -i)"
        },
        "type": {
          "type": "string",
          "description": "File type to search (rg --type). Common types: js, py, rust, go, java, etc. More efficient than include for standard file types."
        },
        "head_limit": {
          "type": "number",
          "description": "Limit output to first N lines/entries, equivalent to \"| head -N\". Works across all output modes: content (limits output lines), files_with_matches (limits file paths), count (limits count entries). Defaults to 0 (unlimited)."
        },
        "offset": {
          "type": "number",
          "description": "Skip first N lines/entries before applying head_limit, equivalent to \"| tail -n +N | head -N\". Works across all output modes. Defaults to 0."
        },
        "multiline": {
          "type": "boolean",
          "description": "Enable multiline mode where . matches newlines and patterns can span lines (rg -U --multiline-dotall). Default: false."
        }
      },
      "required": [
        "pattern"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "FileSearchInput": {
      "type": "object",
      "properties": {
        "pattern": {
          "type": "string",
          "description": "The glob pattern to match files against"
        },
        "path": {
          "type": "string",
          "description": "The directory to search in. If not specified, the current working directory will be used."
        }
      },
      "required": [
        "pattern"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "TaskOutputInput": {
      "type": "object",
      "properties": {
        "taskId": {
          "type": "string",
          "description": "The ID of the background task to read output from"
        }
      },
      "required": [
        "taskId"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "KillShellInput": {
      "type": "object",
      "properties": {
        "taskId": {
          "type": "string",
          "description": "The ID of the background task/shell to kill"
        }
      },
      "required": [
        "taskId"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "AskUserQuestionInput": {
      "type": "object",
      "properties": {
        "questions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "question": {
                "type": "string",
                "description": "The question to ask"
              },
              "header": {
                "type": "string",
                "description": "Short label/chip name"
              },
              "options": {
                "anyOf": [
                  {
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2,
                    "items": [
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3,
                    "items": [
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  },
                  {
                    "type": "array",
                    "minItems": 4,
                    "maxItems": 4,
                    "items": [
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      },
                      {
                        "type": "object",
                        "properties": {
                          "label": {
                            "type": "string",
                            "description": "Concise display text (1-5 words)"
                          },
                          "description": {
                            "type": "string",
                            "description": "Explanation context"
                          }
                        },
                        "required": [
                          "label",
                          "description"
                        ],
                        "additionalProperties": false
                      }
                    ]
                  }
                ],
                "description": "2-4 options"
              },
              "multiSelect": {
                "type": "boolean",
                "description": "Allow multiple selection"
              }
            },
            "required": [
              "question",
              "header",
              "options",
              "multiSelect"
            ],
            "additionalProperties": false
          },
          "minItems": 1,
          "maxItems": 4,
          "description": "1-4 questions"
        },
        "answers": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "User answers collected by UI"
        }
      },
      "required": [
        "questions"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "NotebookEditInput": {
      "type": "object",
      "properties": {
        "notebook_path": {
          "type": "string",
          "description": "Absolute path to the notebook file (must be absolute, not relative)"
        },
        "cell_id": {
          "type": "string",
          "description": "ID of the cell to edit"
        },
        "new_source": {
          "type": "string",
          "description": "New content for the cell"
        },
        "cell_type": {
          "type": "string",
          "enum": [
            "code",
            "markdown"
          ],
          "description": "Type of the cell"
        },
        "edit_mode": {
          "type": "string",
          "enum": [
            "replace",
            "insert",
            "delete"
          ],
          "description": "Mode of operation"
        }
      },
      "required": [
        "notebook_path",
        "edit_mode"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "McpInput": {
      "type": "object",
      "properties": {
        "server_name": {
          "type": "string",
          "description": "The name of the MCP server"
        },
        "tool_name": {
          "type": "string",
          "description": "The name of the tool to call"
        },
        "arguments": {
          "type": "object",
          "additionalProperties": {},
          "description": "Arguments to pass to the tool"
        }
      },
      "required": [
        "server_name",
        "tool_name",
        "arguments"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "WebSearchInput": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "minLength": 2,
          "description": "The search query to use"
        },
        "allowed_domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Only include search results from these domains"
        },
        "blocked_domains": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Never include search results from these domains"
        }
      },
      "required": [
        "query"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "GitInput": {
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "description": "Git action to perform (e.g. status, log, diff)"
        },
        "args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Arguments for the git action"
        }
      },
      "required": [
        "action"
      ],
      "additionalProperties": false,
      "$schema": "http://json-schema.org/draft-07/schema#"
    }
  },
  "anyOf": [
    {
      "$ref": "#/definitions/AgentInput"
    },
    {
      "$ref": "#/definitions/BashInput"
    },
    {
      "$ref": "#/definitions/FileEditInput"
    },
    {
      "$ref": "#/definitions/FileReadInput"
    },
    {
      "$ref": "#/definitions/FileWriteInput"
    },
    {
      "$ref": "#/definitions/GrepInput"
    },
    {
      "$ref": "#/definitions/FileSearchInput"
    },
    {
      "$ref": "#/definitions/TaskOutputInput"
    },
    {
      "$ref": "#/definitions/KillShellInput"
    },
    {
      "$ref": "#/definitions/AskUserQuestionInput"
    },
    {
      "$ref": "#/definitions/NotebookEditInput"
    },
    {
      "$ref": "#/definitions/McpInput"
    },
    {
      "$ref": "#/definitions/WebSearchInput"
    },
    {
      "$ref": "#/definitions/GitInput"
    }
  ]
}